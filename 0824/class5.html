<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Document</title>
    <style>
        * { margin: 0; padding: 0; }
        #wrap { margin: 200px 100px; }
        .clear::after { content: ""; display: block; clear: both; }
        section { border: 1px solid #333; margin: 10px; text-align: center; overflow: hidden;
                    
        }
        section>div { width: 300px; height: 200px; margin: 20px; padding: 20px; 
                        opacity: 0; transition: .5s;
                    }
        section.on>div { opacity: 1; }
        .s1 div { margin-left: 100px; }
        .s1.on div { margin-left: 20px; }
        
        .s2 div { margin-top: 100px; }
        .s2.on div { margin-top: 20px; }

        .s3 .left { transform: translateX(-100px); }
        .s3 .right { transform: translateX(100px); }
        .s3.on div { transform: translateX(0); }

        .s4 .left { transform: translateY(-100px); }
        .s4 .right { transform: translateY(100px); }
        .s4.on div { transform: translateY(0); }

        .s5 div { transform: scale(0.5); }
        .s5.on div { transform: scale(1); }

        .clear div { float: left; }
        .left { background-color: paleturquoise; }
        .right { background-color: pink; }
    </style>
    <script src="./js/jquery-3.3.1.min.js"></script>
    <script>
        // 스크롤을 움직이면 실행된다는 것은 굳이 로딩을 기다릴 필요가 없다는 의미.
        $(window).scroll(function(){
            let scTop = $(this).scrollTop();
            let boxTop1 = $(".s1").offset().top;
            let boxTop2 = $(".s2").offset().top;
            let boxTop3 = $(".s3").offset().top;
            let boxTop4 = $(".s4").offset().top;
            let boxTop5 = $(".s5").offset().top;
            
            // if( scTop > boxTop2 - 400){
            //     $(".s1").addClass("on");
            // }
            // else{
            //     $(".s1").removeClass("on");
            // }

            // if ( scTop > boxTop3 - 400 ){
            //     $(".s2").addClass("on");
            // }
            // else{
            //     $(".s2").removeClass("on");
            // }

            // each() : 배열 각각에 적용시킴.
            $("section").each(function(){
                let offTop = $(this).offset().top;
                if(scTop > offTop - 300){
                    $(this).addClass("on");
                }
                else{
                    $(this).removeClass("on");
                }
            }); 
        })
        
    </script>
</head>
<body>
    <div id="wrap">
        <section class="s1">
            <div class="left">left</div>
        </section>
        <section class="s2">
            <div class="left">left</div>
        </section>
        <section class="s3 clear">
            <div class="left">left</div>
            <div class="right">right</div>
        </section>
        <section class="s4 clear">
            <div class="left">left</div>
            <div class="right">right</div>
        </section>
        <section class="s5 clear">
            <div class="left">left</div>
            <div class="right">right</div>
        </section>
    </div>
</body>
</html>